{%- comment -%}
Lang Switcher
- EN always → https://annafoldberg.github.io/
- DA → /da/
- IT → /it/
- No active/bold state
{%- endcomment -%}

<ul class="lang-switcher">
  <li class="lang-item">
    <a id="lang-en" href="https://annafoldberg.github.io/" rel="external noopener noreferrer">EN</a>
  </li>
  <li class="lang-item">
    <a href="/da/" hreflang="da">DA</a>
  </li>
  <li class="lang-item">
    <a href="/it/" hreflang="it">IT</a>
  </li>
</ul>

<script>
/* Force EN to the exact homepage URL even if a router/pjax tries to intercept */
(function () {
  var en = document.getElementById('lang-en');
  if (!en) return;
  var url = 'https://annafoldberg.github.io/';
  en.setAttribute('href', url);

  // Handle click robustly
  en.addEventListener('click', function (e) {
    try { e.preventDefault(); } catch(_) {}
    // Use assign (keeps history); replace() if you prefer no back button step
    window.location.assign(url);
  }, { passive: false });

  // Extra belt-and-suspenders for some interceptors
  en.addEventListener('mousedown', function () {
    en.href = url;
  });
})();
</script>
