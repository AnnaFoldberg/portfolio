{%- comment -%} _includes/breadcrumb.html {%- endcomment -%}
{% if page.show_breadcrumb %}
  {%- assign L = site.data.locales[site.active_lang].breadcrumb -%}
  {%- assign home_label = L.home | default: "Home" -%}

  {%- assign raw_segments = page.url | split:'/' -%}
  {%- assign segments = "" | split:"" -%}
  {%- for seg in raw_segments -%}
    {%- if seg and seg != "" and seg != site.active_lang -%}
      {%- assign segments = segments | push: seg -%}
    {%- endif -%}
  {%- endfor -%}

  {%- if segments.size > 0 -%}
  <nav class="breadcrumb">
    <a href="{{ '/' | relative_url }}">{{ home_label }}</a>
    {%- assign path = "" -%}
    {%- for seg in segments -%}
      {%- assign path = path | append:'/' | append: seg -%}
      {%- assign label = seg | replace:'-',' ' | capitalize -%}
      {%- if L.segment_labels and L.segment_labels[seg] -%}
        {%- assign label = L.segment_labels[seg] -%}
      {%- endif -%}
      {%- if forloop.last -%}
        &nbsp;/&nbsp;<span class="crumb-current">{{ page.title | default: label }}</span>
      {%- else -%}
        &nbsp;/&nbsp;<a href="{{ path | relative_url }}">{{ label }}</a>
      {%- endif -%}
    {%- endfor -%}
  </nav>
  {%- endif -%}
{% endif %}
